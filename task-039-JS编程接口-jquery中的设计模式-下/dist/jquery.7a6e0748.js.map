{"version":3,"sources":["jquery.js"],"names":["window","$","jQuery","selectorOrArrayOrTemplate","elements","createElement","document","querySelectorAll","Array","string","container","innerHTML","trim","content","firstChild","api","Object","create","prototype","assign","oldApi","fn","constructor","jquery","get","index","appendTo","node","Element","each","el","appendChild","append","children","HTMLCollection","i","length","find","selector","array","elements2","from","concat","call","parent","indexOf","parentNode","push","print","console","log","addClass","className","element","classList","add","end"],"mappings":"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","file":"jquery.7a6e0748.js","sourceRoot":"../src","sourcesContent":["window.$ = window.jQuery = function(selectorOrArrayOrTemplate) {\n  let elements;\n  if (typeof selectorOrArrayOrTemplate === \"string\") {\n    if (selectorOrArrayOrTemplate[0] === \"<\") {\n      // 创建 div\n      elements = [createElement(selectorOrArrayOrTemplate)];\n    } else {\n      // 查找 div\n      elements = document.querySelectorAll(selectorOrArrayOrTemplate);\n    }\n  } else if (selectorOrArrayOrTemplate instanceof Array) {\n    elements = selectorOrArrayOrTemplate;\n  }\n\n  function createElement(string) {\n    const container = document.createElement(\"template\");\n    container.innerHTML = string.trim();\n    return container.content.firstChild;\n  }\n  // api 可以操作elements\n  const api = Object.create(jQuery.prototype) // 创建一个对象，这个对象的 __proto__ 为括号里面的东西\n  // const api = {__proto__: jQuery.prototype}\n  Object.assign(api, {\n    elements: elements,\n    oldApi: selectorOrArrayOrTemplate.oldApi\n  })\n  // api.elements = elements\n  // api.oldApi = selectorOrArrayOrTemplate.oldApi\n  return api\n};\n\njQuery.fn = jQuery.prototype = {\n  constructor: jQuery,\n  jquery: true,\n  get(index) {\n    return this.elements[index];\n  },\n  appendTo(node) {\n    if (node instanceof Element) {\n      this.each(el => node.appendChild(el));\n    } else if (node.jquery === true) {\n      this.each(el => node.get(0).appendChild(el));\n    }\n  },\n  append(children) {\n    if (children instanceof Element) {\n      this.get(0).appendChild(children);\n    } else if (children instanceof HTMLCollection) {\n      for (let i = 0; i < children.length; i++) {\n        this.get(0).appendChild(children[i]);\n      }\n    } else if (children.jquery === true) {\n      children.each(node => this.get(0).appendChild(node));\n    }\n  },\n  find(selector) {\n    let array = [];\n    for (let i = 0; i < this.elements.length; i++) {\n      const elements2 = Array.from(this.elements[i].querySelectorAll(selector));\n      array = array.concat(this.elements2);\n    }\n    array.oldApi = this; // this 就是 旧 api\n    return jQuery(array);\n  },\n  each(fn) {\n    for (let i = 0; i < this.elements.length; i++) {\n      fn.call(null, this.elements[i], i);\n    }\n    return this;\n  },\n  parent() {\n    const array = [];\n    this.each(node => {\n      if (array.indexOf(node.parentNode) === -1) {\n        array.push(node.parentNode);\n      }\n    });\n    return jQuery(array);\n  },\n  children() {\n    const array = [];\n    this.each(node => {\n      if (array.indexOf(node.parentNode) === -1) {\n        array.push(...node.children);\n      }\n    });\n    return jQuery(array);\n  },\n  print() {\n    console.log(this.elements);\n  },\n  // 闭包：函数访问外部的变量\n  addClass(className) {\n    for (let i = 0; i < this.elements.length; i++) {\n      const element = this.elements[i];\n      element.classList.add(className);\n    }\n    return this;\n  },\n  end() {\n    return this.oldApi; // this 就是新 api\n  }\n};\n"]}