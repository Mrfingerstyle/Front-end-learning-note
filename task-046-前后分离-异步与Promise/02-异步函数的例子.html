<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <pre>资料来源 饥人谷</pre>
    <hr>
    <script>
        /*
        我怎么知道一个函数 异步 还是 同步 ？？？
            如果一个函数的返回值处于
            setTimeout
            AJAX
            addEventListener
            这三个东西内部
            那么这个函数就是异步函数
            不要把AJAX设置为同步 这样会在请求期间页面卡住

        */

        // 摇骰子函数
        function getNumber(fn) {
            setTimeout(function () {
                fn(parseInt(Math.random() * 6) + 1)
            }, 1000);
        }
        function f1(x) {
            console.log(x);
        }
        getNumber(f1)
        // 简化为
        getNumber(x => console.log(x))
        // 再简化
        getNumber(console.log)
        // 参数个数不一致 就不能这样简化
        // 例如 
        let arr = ['1', '2', '3'].map(parseInt)
        console.log(arr);
        // [1, NaN, NaN]
        arr = ['1', '2', '3'].map((item, i, arr) => {
            return parseInt(item)
        })
        // [1, 2, 3]
        console.log(arr);

        // 直接传parseInt 相当于 
        console.log(
            ['1', '2', '3'].map((item, i, arr) => {
                return parseInt(item, i, arr)
            }));

        // 正常应该使用箭头函数  参数一致才能简写

        /*
        总结
            异步任务不能拿到结果
            于是我们传一个回调给异步任务
            异步任务完成时调用回调
            调用的时候把结果作为参数
            

        */
    </script>
</body>

</html>