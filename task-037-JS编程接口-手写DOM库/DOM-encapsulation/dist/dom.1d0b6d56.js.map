{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","obj","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.dom = {\n    // 创建节点\n    create(string) {\n        // bug div内不能放<td></td>\n        // 问题 有什么标签能够容纳所有元素不出错 template\n        // td不能单独存在\n        const container = document.createElement('template')\n        // trim() 去除空格\n        container.innerHTML = string.trim()\n        return container.content.firstChild\n        // return container\n    },\n    // 新增弟弟\n    after(node, node2) {\n        node.parentNode.insertBefore(node2, node.nextSibling)\n    },\n    before(node, node2) {\n        node.parentNode.insertBefore(node2, node)\n    },\n    append(parent, node) {\n        parent.appendChild(node)\n    },\n    wrap(node, parent) {\n        dom.before(node, parent)\n        dom.append(parent, node)\n    },\n    // 删除\n    remove(node) {\n        node.parentNode.removeChild(node)\n        return node\n    },\n    empty(node) {\n        const array = []\n        let x = node.firstChild\n        while(x){\n            array.push(dom.remove(node.firstChild))\n            x = node.firstChild\n        }\n        return array\n    },\n    // 改 \n    // 改div的title 读写title属性\n    attr(node, name, value) {\n        if (arguments.length === 3) {\n            node.setAttribute(name, value)\n        }else if (arguments.length === 2) {\n            return node.getAttribute(name)\n        }\n    },\n    // 读写文本内容\n    text(node, string) {\n        // node.innerText = string // ie\n        // node.textContent = string // firefox chrome\n        // 适配\n        if (arguments.length === 2) {\n            if ('innerText' in node) {\n                node.innerText = string\n            } else {\n                node.textContent = string\n            }\n        } else if (arguments.length === 1) {\n            if ('innerText' in node) {\n                return node.innerText\n            } else {\n                return node.textContent\n            }\n        }\n    },\n    // 读写html内容\n    html(node, string) {\n        if (arguments.length === 2) {\n            node.innerHTML = string\n        } else if (arguments.length === 1) {\n            return node.innerHTML\n        }\n    },\n    // 修改style参数\n    style(node, name, value) {\n        if (arguments.length === 3) {\n            node.style[name] = value\n        } else if (arguments.length === 2) {\n            if (typeof name === 'string') {\n                return node.style[name]\n            } else if (name instanceof Object) {\n                const obj = name \n                for (let key in obj) {\n                    node.style[key] = obj[key]\n                }\n            }\n        }\n    },\n    // 添加class\n    class: {\n        add(node, className) {\n            node.classList.add(className)\n        },\n        remove(node, className) {\n            node.classList.remove(className)\n        },\n        has(node, className) {\n            return node.classList.contains(className)\n        }\n    },\n    on(node, eventName, fn) {\n        node.addEventListener(eventName, fn)\n    },\n    off(node, eventName, fn) {\n        node.removeEventListener(eventName, fn)\n    },\n    // 查询\n    // 根据选择器返回对应的元素\n    find(selector, scope) {\n        return (scope || document).querySelectorAll(selector)[0]\n    },\n    // 获取父元素\n    parent(node) {\n        return node.parentNode\n    },\n    // 获取子元素\n    children(node) {\n        return node.children\n    },\n    // 找到兄弟姐妹\n    siblings(node) {\n        // 伪数组转为数组 然后过滤\n        return Array.from(node.parentNode.children).filter(n => n !== node)\n    },\n    // 找到元素的弟弟\n    next(node) {\n        let x = node.nextSibling\n        // 剔除文本节点\n        while (x && x.nodeType === 3) {\n            x = x.nextSibling\n        }\n        return x \n    },\n    // 获取哥哥\n    previous(node) {\n        let x = node.previousSibling\n        // 剔除文本节点\n        while (x && x.nodeType === 3) {\n            x = x.previousSibling\n        }\n        return x \n    },\n    each(nodeList, fn) {\n        for (let i = 0; i < nodeList.length; i++) {\n            fn.call(null, nodeList[i])            \n        }\n    },\n    // 获取排行\n    index(node) {\n        let list = dom.children(node.parentNode)\n        let i;\n        for (i = 0; i < list.length; i++) {\n            if (list[i] === node) {\n                break\n            }\n        }\n        return i\n    }\n\n}"]}